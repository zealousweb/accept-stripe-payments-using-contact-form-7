(function(a){if(typeof wpcf7==="undefined"||wpcf7===null){return}wpcf7_cf7sa=a.extend({cached:0,inputs:[]},wpcf7);a(function(){wpcf7_cf7sa.supportHtml5=(function(){var c={};var b=document.createElement("input");c.placeholder="placeholder" in b;var d=["email","url","tel","number","range","date"];a.each(d,function(e,f){b.setAttribute("type",f);c[f]=b.type!=="text"});return c})();a("div.wpcf7 > form.cf7sa").each(function(){var b=a(this);wpcf7_cf7sa.initForm(b);if(wpcf7_cf7sa.cached){wpcf7_cf7sa.refill(b)}})});wpcf7_cf7sa.getId=function(b){return parseInt(a('input[name="_wpcf7"]',b).val(),10)};wpcf7_cf7sa.initForm=function(e){var c=a(e);var b=wpcf7_cf7sa.getId(c);var g;var f;var d;if(cf7sa_object.cf7sa_stripe.hasOwnProperty(b)){g=Stripe(cf7sa_object.cf7sa_stripe[b]);f=g.elements();d=f.create("card",{style:JSON.parse(cf7sa_object.cf7sa_stripe_style[b])});d.mount("#card-element-"+b);d.addEventListener("change",function(i){var h=document.getElementById("card-errors-"+b);if(i.error){h.textContent=i.error.message}else{h.textContent=""}})}c.submit(function(i){if(!wpcf7_cf7sa.supportHtml5.placeholder){a("[placeholder].placeheld",c).each(function(j,k){a(k).val("").removeClass("placeheld")})}if(typeof window.FormData==="function"){a('input[name="stripeToken"]',e).attr("value","");var h=wpcf7_cf7sa.getId(c);if(cf7sa_object.cf7sa_stripe.hasOwnProperty(h)){g.createToken(d).then(function(j){if(j.error){var k=document.getElementById("card-errors-"+h);k.textContent=j.error.message;return false}else{wpcf7_cf7sa.stripeTokenHandler(j.token.id,c);wpcf7_cf7sa.submit(c)}})}i.preventDefault()}});if(a(c).find(".ajax-loader").length<1){a(".wpcf7-submit",c).after('<span class="ajax-loader"></span>')}wpcf7_cf7sa.toggleSubmit(c);c.on("click",".wpcf7-acceptance",function(){wpcf7_cf7sa.toggleSubmit(c)});a(".wpcf7-exclusive-checkbox",c).on("click","input:checkbox",function(){var h=a(this).attr("name");c.find('input:checkbox[name="'+h+'"]').not(this).prop("checked",false)});a(".wpcf7-list-item.has-free-text",c).each(function(){var i=a(":input.wpcf7-free-text",this);var h=a(this).closest(".wpcf7-form-control");if(a(":checkbox, :radio",this).is(":checked")){i.prop("disabled",false)}else{i.prop("disabled",true)}h.on("change",":checkbox, :radio",function(){var j=a(".has-free-text",h).find(":checkbox, :radio");if(j.is(":checked")){i.prop("disabled",false).focus()}else{i.prop("disabled",true)}})});if(!wpcf7_cf7sa.supportHtml5.placeholder){a("[placeholder]",c).each(function(){a(this).val(a(this).attr("placeholder"));a(this).addClass("placeheld");a(this).focus(function(){if(a(this).hasClass("placeheld")){a(this).val("").removeClass("placeheld")}});a(this).blur(function(){if(""===a(this).val()){a(this).val(a(this).attr("placeholder"));a(this).addClass("placeheld")}})})}if(wpcf7_cf7sa.jqueryUi&&!wpcf7_cf7sa.supportHtml5.date){c.find('input.wpcf7-date[type="date"]').each(function(){a(this).datepicker({dateFormat:"yy-mm-dd",minDate:new Date(a(this).attr("min")),maxDate:new Date(a(this).attr("max"))})})}if(wpcf7_cf7sa.jqueryUi&&!wpcf7_cf7sa.supportHtml5.number){c.find('input.wpcf7-number[type="number"]').each(function(){a(this).spinner({min:a(this).attr("min"),max:a(this).attr("max"),step:a(this).attr("step")})})}a(".wpcf7-character-count",c).each(function(){var k=a(this);var j=k.attr("data-target-name");var n=k.hasClass("down");var i=parseInt(k.attr("data-starting-value"),10);var m=parseInt(k.attr("data-maximum-value"),10);var l=parseInt(k.attr("data-minimum-value"),10);var h=function(r){var o=a(r);var q=o.val().length;var p=n?i-q:q;k.attr("data-current-value",p);k.text(p);if(m&&m<q){k.addClass("too-long")}else{k.removeClass("too-long")}if(l&&q<l){k.addClass("too-short")}else{k.removeClass("too-short")}};a(':input[name="'+j+'"]',c).each(function(){h(this);a(this).keyup(function(){h(this)})})});c.on("change",".wpcf7-validates-as-url",function(){var h=a.trim(a(this).val());if(h&&!h.match(/^[a-z][a-z0-9.+-]*:/i)&&-1!==h.indexOf(".")){h=h.replace(/^\/+/,"");h="http://"+h}a(this).val(h)})};wpcf7_cf7sa.submit=function(f,i,g,c){if(typeof window.FormData!=="function"){return}var b=a(f);a(".ajax-loader",b).addClass("is-active");wpcf7_cf7sa.clearResponse(b);var h=new FormData(b.get(0));var d={id:b.closest("div.wpcf7").attr("id"),status:"init",inputs:[],formData:h};a.each(b.serializeArray(),function(k,l){if("_wpcf7"==l.name){d.contactFormId=l.value}else{if("_wpcf7_version"==l.name){d.pluginVersion=l.value}else{if("_wpcf7_locale"==l.name){d.contactFormLocale=l.value}else{if("_wpcf7_unit_tag"==l.name){d.unitTag=l.value}else{if("_wpcf7_container_post"==l.name){d.containerPostId=l.value}else{if(l.name.match(/^_wpcf7_\w+_free_text_/)){var j=l.name.replace(/^_wpcf7_\w+_free_text_/,"");d.inputs.push({name:j+"-free-text",value:l.value})}else{if(l.name.match(/^_/)){}else{d.inputs.push(l)}}}}}}}});wpcf7_cf7sa.triggerEvent(b.closest("div.wpcf7"),"beforesubmit",d);var e=function(n,j,o,k){d.id=a(n.into).attr("id");d.status=n.status;d.apiResponse=n;var l=a(".wpcf7-response-output",k);switch(n.status){case"validation_failed":a.each(n.invalidFields,function(p,q){a(q.into,k).each(function(){wpcf7_cf7sa.notValidTip(this,q.message);a(".wpcf7-form-control",this).addClass("wpcf7-not-valid");a("[aria-invalid]",this).attr("aria-invalid","true")})});l.addClass("wpcf7-validation-errors");k.addClass("invalid");wpcf7_cf7sa.triggerEvent(n.into,"invalid",d);break;case"acceptance_missing":l.addClass("wpcf7-acceptance-missing");k.addClass("unaccepted");wpcf7_cf7sa.triggerEvent(n.into,"unaccepted",d);break;case"spam":l.addClass("wpcf7-spam-blocked");k.addClass("spam");wpcf7_cf7sa.triggerEvent(n.into,"spam",d);break;case"aborted":l.addClass("wpcf7-aborted");k.addClass("aborted");wpcf7_cf7sa.triggerEvent(n.into,"aborted",d);break;case"mail_sent":l.addClass("wpcf7-mail-sent-ok");k.addClass("sent");wpcf7_cf7sa.triggerEvent(n.into,"mailsent",d);break;case"mail_failed":l.addClass("wpcf7-mail-sent-ng");k.addClass("failed");wpcf7_cf7sa.triggerEvent(n.into,"mailfailed",d);break;default:var m="custom-"+n.status.replace(/[^0-9a-z]+/i,"-");l.addClass("wpcf7-"+m);k.addClass(m)}wpcf7_cf7sa.refill(k,n);wpcf7_cf7sa.triggerEvent(n.into,"submit",d);if("mail_sent"==n.status){k.each(function(){this.reset()});wpcf7_cf7sa.toggleSubmit(k)}if(!wpcf7_cf7sa.supportHtml5.placeholder){k.find("[placeholder].placeheld").each(function(p,q){a(q).val(a(q).attr("placeholder"))})}l.html("").append(n.message).slideDown("fast");l.attr("role","alert");a(".screen-reader-response",k.closest(".wpcf7")).each(function(){var p=a(this);p.html("").attr("role","").append(n.message);if(n.invalidFields){var q=a("<ul></ul>");a.each(n.invalidFields,function(r,t){if(t.idref){var s=a("<li></li>").append(a("<a></a>").attr("href","#"+t.idref).append(t.message))}else{var s=a("<li></li>").append(t.message)}q.append(s)});p.append(q)}p.attr("role","alert").focus()})};a.ajax({type:"POST",url:wpcf7_cf7sa.apiSettings.getRoute("/contact-forms/"+wpcf7_cf7sa.getId(b)+"/feedback"),data:h,dataType:"json",processData:false,contentType:false}).done(function(k,j,l){e(k,j,l,b);a(".ajax-loader",b).removeClass("is-active")}).fail(function(m,j,l){var k=a('<div class="ajax-error"></div>').text(l.message);b.after(k)})};wpcf7_cf7sa.triggerEvent=function(f,c,d){var b=a(f);var e=new CustomEvent("wpcf7"+c,{bubbles:true,detail:d});b.get(0).dispatchEvent(e);b.trigger("wpcf7:"+c,d);b.trigger(c+".wpcf7",d)};wpcf7_cf7sa.toggleSubmit=function(c,d){var b=a(c);var e=a("input:submit",b);if(typeof d!=="undefined"){e.prop("disabled",!d);return}if(b.hasClass("wpcf7-acceptance-as-validation")){return}e.prop("disabled",false);a(".wpcf7-acceptance",b).each(function(){var f=a(this);var g=a("input:checkbox",f);if(!f.hasClass("optional")){if(f.hasClass("invert")&&g.is(":checked")||!f.hasClass("invert")&&!g.is(":checked")){e.prop("disabled",true);return false}}})};wpcf7_cf7sa.notValidTip=function(e,d){var b=a(e);a(".wpcf7-not-valid-tip",b).remove();a('<span role="alert" class="wpcf7-not-valid-tip"></span>').text(d).appendTo(b);if(b.is(".use-floating-validation-tip *")){var c=function(f){a(f).not(":hidden").animate({opacity:0},"fast",function(){a(this).css({"z-index":-100})})};b.on("mouseover",".wpcf7-not-valid-tip",function(){c(this)});b.on("focus",":input",function(){c(a(".wpcf7-not-valid-tip",b))})}};wpcf7_cf7sa.refill=function(d,e){var b=a(d);var f=function(h,g){a.each(g,function(k,l){h.find(':input[name="'+k+'"]').val("");h.find("img.wpcf7-captcha-"+k).attr("src",l);var j=/([0-9]+)\.(png|gif|jpeg)$/.exec(l);h.find('input:hidden[name="_wpcf7_captcha_challenge_'+k+'"]').attr("value",j[1])})};var c=function(h,g){a.each(g,function(j,k){h.find(':input[name="'+j+'"]').val("");h.find(':input[name="'+j+'"]').siblings("span.wpcf7-quiz-label").text(k[0]);h.find('input:hidden[name="_wpcf7_quiz_answer_'+j+'"]').attr("value",k[1])})};if(typeof e==="undefined"){a.ajax({type:"GET",url:wpcf7_cf7sa.apiSettings.getRoute("/contact-forms/"+wpcf7_cf7sa.getId(b)+"/refill"),beforeSend:function(h){var g=b.find(':input[name="_wpnonce"]').val();if(g){h.setRequestHeader("X-WP-Nonce",g)}},dataType:"json"}).done(function(h,g,i){if(h.captcha){f(b,h.captcha)}if(h.quiz){c(b,h.quiz)}})}else{if(e.captcha){f(b,e.captcha)}if(e.quiz){c(b,e.quiz)}}};wpcf7_cf7sa.clearResponse=function(c){var b=a(c);b.removeClass("invalid spam sent failed");b.siblings(".screen-reader-response").html("").attr("role","");a(".wpcf7-not-valid-tip",b).remove();a("[aria-invalid]",b).attr("aria-invalid","false");a(".wpcf7-form-control",b).removeClass("wpcf7-not-valid");a(".wpcf7-response-output",b).hide().empty().removeAttr("role").removeClass("wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-validation-errors wpcf7-spam-blocked")};wpcf7_cf7sa.apiSettings.getRoute=function(c){var b=wpcf7_cf7sa.apiSettings.root;b=b.replace(wpcf7_cf7sa.apiSettings.namespace,wpcf7_cf7sa.apiSettings.namespace+c);return b};wpcf7_cf7sa.stripeTokenHandler=function(b,c){a('input[name="stripeToken"]',c).val(b)}})(jQuery);(function(){if(typeof window.CustomEvent==="function"){return false}function a(c,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,d.bubbles,d.cancelable,d.detail);return b}a.prototype=window.Event.prototype;window.CustomEvent=a})();